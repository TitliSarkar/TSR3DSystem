{% extends 'static/base.html' %}
{% load i18n %} {% load staticfiles %}
{% block title %}Search Results{% endblock title %}

{% block header_title %}
<h2 class="wow fadeInDown">
    <i class="fa fa-bar-chart"></i> Search Results
</h2>
{% endblock header_title %}
{% block style_extra %}
<link rel="stylesheet" href="{% static 'css/jquery.dataTables.min.css' %}">
{% endblock style_extra %}
{% block script %}
<script type="text/javascript" src="{% static 'js/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'js/jquery.dataTables.min.js' %}"></script>
<script type="text/javascript">
var common_keys = [{% for key in common_keys %} ["{{ key }}"], {% endfor %}];
console.log(common_keys)
var proteins = [{% for protein in proteins %} ["{{ protein }}"], {% endfor %}];
console.log(proteins)
$(document).ready(function(){
    $('#commonKeysTable').dataTable({
        data: common_keys,
        columns: [
            {title: "Protein Key"},
        ]
    });
    $('#proteinTable').dataTable({
        data: proteins,
        columns: [
            {title: "Protein ID"},
        ]
    });
});
</script>
{% endblock script %}

{% block body %}
<div id="load"></div>
<div class="alert alert-info">
    <i class="fa fa-info-circle"></i> Query processing time: {{ time }} seconds
</div> <!-- alert -->

<h2>
Proteins containing substructure made up of Amino acid Sequence IDs
{% for seq in seq_list %} {{ seq }}, {% endfor %} of the protein {{ pid }}
</h2>

<div class="row">
    <div class="col-md-6">
        <h2>Common substructure contains: 
            {% for key in protein_list %} {{ key }}, {% endfor %} are:
        </h2>
        <table id="commonKeysTable" class="table">
            <thead>
                <tr>
                    <th>Protein Key</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div><!--col-md-6-->
    <div class="col-md-6">
        <h2>Protein IDs containing all the given substructure</h2>
        <table id="proteinTable" class="table table-striped">
            <thead>
                <tr>
                    <th>Protein ID</th>
                </tr>
            </thead>
        </table>
    </div><!--col-md-6-->
</div> <!--row-->
<br/><br/>
<br/><br/>
{% endblock body %}
